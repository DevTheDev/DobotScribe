function[ xdot ]=projekt_kins_f(t, x, u1, u2, u3) 

syms L1 L2 L3

L1= 145;%mm
L2= 135;%mm
L3= 160;%mm

J = [sin(x(1))*sin(x(2))*((2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L2)/2+(2^(1/2)*L3*sin(x(3)))/2)-cos(x(2))*sin(x(1))*((2^(1/2)*L2)/2+(2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L3*sin(x(3)))/2) -cos(x(1))*cos(x(2))*((2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L2)/2+(2^(1/2)*L3*sin(x(3)))/2)-cos(x(1))*sin(x(2))*((2^(1/2)*L2)/2+(2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L3*sin(x(3)))/2) -cos(x(1))*cos(x(2))*((2^(1/2)*L3*cos(x(3)))/2+(2^(1/2)*L3*sin(x(3)))/2)-cos(x(1))*sin(x(2))*((2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L3*sin(x(3)))/2)
    cos(x(1))*cos(x(2))*((2^(1/2)*L2)/2+(2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L3*sin(x(3)))/2)-cos(x(1))*sin(x(2))*((2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L2)/2+(2^(1/2)*L3*sin(x(3)))/2) -cos(x(2))*sin(x(1))*((2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L2)/2+(2^(1/2)*L3*sin(x(3)))/2)-sin(x(1))*sin(x(2))*((2^(1/2)*L2)/2+(2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L3*sin(x(3)))/2) -cos(x(2))*sin(x(1))*((2^(1/2)*L3*cos(x(3)))/2+(2^(1/2)*L3*sin(x(3)))/2)-sin(x(1))*sin(x(2))*((2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L3*sin(x(3)))/2)
    0 sin(x(2))*((2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L2)/2+(2^(1/2)*L3*sin(x(3)))/2)-cos(x(2))*((2^(1/2)*L2)/2+(2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L3*sin(x(3)))/2) sin(x(2))*((2^(1/2)*L3*cos(x(3)))/2+(2^(1/2)*L3*sin(x(3)))/2)-cos(x(2))*((2^(1/2)*L3*cos(x(3)))/2-(2^(1/2)*L3*sin(x(3)))/2)];
annie=([u1;u2;u3])*(1-cos(2*pi*t));
xdot=J\annie;%u is the velocity (must be input)
%solver "initial conditions" will be the last end effector location
end